<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://xamarin.com/schemas/2014/forms"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:xfx="clr-namespace:Xfx;assembly=Xfx.Controls"
             x:Class="MCup.Views.Registrazione"
    Title="Registrazione">
    <ContentPage.Content>
        <ScrollView>
            <StackLayout Orientation="Vertical" Padding="30" >
                <Label HorizontalOptions="Center" FontSize="30" FontAttributes="Bold" Text="Registrazione" TextColor="Red"></Label>
                <xfx:XfxEntry Placeholder="Inserire Username" Text="{Binding Username}" ErrorText="{Binding NameErrorTextUsername}" ErrorDisplay="Underline" WidthRequest="250"/>
                <xfx:XfxEntry Placeholder="Inserire nome" Text="{Binding nome}" ErrorText="{Binding NameErrorTextNome}" ErrorDisplay="Underline" WidthRequest="250"/>
                <xfx:XfxEntry Placeholder="Inserire cognome" Text="{Binding cognome}" ErrorText="{Binding NameErrorTextCognome}" ErrorDisplay="Underline" WidthRequest="250"/>
                <Label Text="Data di nascita" TextColor="Gray" FontSize="Small"/>
                <DatePicker x:Name="pickerNascita" Date="{Binding data_nascita}" Format="dd/MM/yyyy"/>
                <Picker Title="Scegli la provincia di nascita" ItemsSource="{Binding listaProvince}" SelectedIndexChanged="Picker_OnSelectedIndexChangedProvinciaNascita" ></Picker>
                <Picker x:Name="PickerComuneNascita" Title="Scegli il comune di nascita" SelectedIndexChanged="Picker_OnSelectedIndexChanged" ItemsSource="{Binding listaComuni}" ItemDisplayBinding="{Binding nome}" ></Picker>
                <Picker Title="Scegli la provincia di residenza" ItemsSource="{Binding listaProvince}" SelectedIndexChanged="Picker_OnSelectedIndexChangedProvinciaResidenza" ></Picker>
                <Picker x:Name="PickerComuneResidenza" Title="Scegli il comune di residenza" SelectedIndexChanged="Picker_OnSelectedIndexChanged1" ItemsSource="{Binding listaComuniResidenza}" ItemDisplayBinding="{Binding nome}"></Picker>
                <xfx:XfxEntry Placeholder="Inserire numero di telefono mobile" Text="{Binding telefono}" Keyboard="Numeric" ErrorText="{Binding NameErrorTextNumeroTelefono}" ErrorDisplay="Underline"  WidthRequest="250"/>
                <Picker Title="Scegli stato civile" ItemsSource="{Binding ListaStatoCivile}" SelectedIndexChanged="Picker_OnSelectedIndexChangedSceltaUnione" ItemDisplayBinding="{Binding descrizione}"/>
                <Picker x:Name="sexPicker" Title="Seleziona sesso" SelectedItem="{Binding sceltaSesso}">
                    <Picker.ItemsSource>
                        <x:Array Type="{x:Type x:Char}">
                            <x:Char>F</x:Char>
                            <x:Char>M</x:Char>
                        </x:Array>
                    </Picker.ItemsSource>
                </Picker>
                <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="*"></RowDefinition>
                </Grid.RowDefinitions>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"></ColumnDefinition>
                </Grid.ColumnDefinitions>
                    <xfx:XfxEntry x:Name="entryCodiceFiscale" HorizontalOptions="StartAndExpand" Placeholder="Inserire codice fiscale" Text="{Binding codiceFiscale}" ErrorText="{Binding NameErrorTextCodice}" ErrorDisplay="Underline" WidthRequest="600" Grid.Row="0"/>
                <Image Source="iconaScan.png" WidthRequest="40" HorizontalOptions="End" Grid.Row="0">
                    <Image.GestureRecognizers>
                        <TapGestureRecognizer Tapped="Button_Clicked" NumberOfTapsRequired="1" />
                    </Image.GestureRecognizers>
                </Image>
                </Grid>
                <xfx:XfxEntry Placeholder="Inserire password" Text="{Binding password}" ErrorText="{Binding NameErrorTextPassword}" ErrorDisplay="Underline" IsPassword="True" WidthRequest="250"/>
                <xfx:XfxEntry Placeholder="Reinserire password" Text="{Binding ConfermaPassword}" ErrorText="{Binding NameErrorTextConfermaPassword}" ErrorDisplay="Underline" IsPassword="True" WidthRequest="250"/>
              
                <Button Text="Registrati" Command="{Binding registrati}" HorizontalOptions="Center" BackgroundColor="Red" BorderColor="Red" TextColor="White" Margin="15"/>
            </StackLayout>
        </ScrollView>
    </ContentPage.Content>
</ContentPage>