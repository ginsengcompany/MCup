<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://xamarin.com/schemas/2014/forms"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:costomControls="clr-namespace:MCup.CostomControls;assembly=MCup"
             x:Class="MCup.Views.GestioneAppuntamenti" 
             BackgroundColor="White"
             Title="Appuntamenti">
    <ContentPage.Content>

        <StackLayout>
            <Grid>

                <Image Source="{Binding LogoStruttura}" 
                           HorizontalOptions="Fill"
                           Aspect="Fill"
                           HeightRequest="280"
                           Grid.Row="0" Grid.Column="0"/>
                <StackLayout 
                        Grid.Row="0"
                        Grid.Column="0"
                        Opacity="0.9"
                        BackgroundColor="Black"
                        VerticalOptions="EndAndExpand"
                        HeightRequest="70"
                        Orientation="Horizontal">
                    <Label Text="ORA: " TextColor="White" VerticalOptions="Center" FontSize="24" FontAttributes="Bold" HorizontalOptions="Start"></Label>
                    <Label Text="{Binding OraAppuntamento}" VerticalOptions="Center" TextColor="White" FontSize="24" FontAttributes="Bold" HorizontalOptions="Start" ></Label>
                    <Label TextColor="White" HorizontalOptions="EndAndExpand" VerticalOptions="Center" Text="{Binding NomeStruttura}" FontSize="35" FontAttributes="Bold" ></Label>
                </StackLayout>

            </Grid>

            <Label Text="Prestazione prenotata:" TextColor="Red" FontAttributes="Bold" HorizontalOptions="Start"></Label>
            <Label Text="{Binding Titolo}" TextColor="Black" FontSize="Medium" FontAttributes="Italic"></Label>

            <Label Text="Data Appuntamento:" TextColor="Red" FontAttributes="Bold" HorizontalOptions="Start"/>
            <Label Text="{Binding DataAppuntamento}" TextColor="Black" FontSize="Medium" FontAttributes="Italic"></Label>

            <Label Text="Nome medico:" TextColor="Red" FontAttributes="Bold" HorizontalOptions="Start"></Label>
            <Label Text="{Binding NomeMedico}" TextColor="Black" FontSize="Medium" FontAttributes="Italic"></Label>

            <StackLayout Orientation="Horizontal">
                <StackLayout>
                    <Label Text="Ubicazione Reparto:" TextColor="Red" FontAttributes="Bold" HorizontalOptions="Start"></Label>
                    <Label Text="{Binding UbicazioneReparto}" TextColor="Black" FontSize="Medium" FontAttributes="Italic"></Label>
                </StackLayout>
                <StackLayout  HorizontalOptions="EndAndExpand">
                    <Image Source="luogo.png"
                           VerticalOptions="Center"
                           IsVisible="{Binding VisibileB}" 
                           HeightRequest="50">
                        <Image.GestureRecognizers>
                            <TapGestureRecognizer 
                                Command="{Binding LuogoUbicazioneReparto}"
                                CommandParameter="{Binding reparti[0]}"/>
                        </Image.GestureRecognizers>
                    </Image>
                </StackLayout>
            </StackLayout>
          
           
            <StackLayout IsVisible="{Binding StackNoteVisible}">
                <StackLayout Orientation="Horizontal">
                    <StackLayout.GestureRecognizers>
                        <TapGestureRecognizer Command="{Binding VisualizzaNote}"></TapGestureRecognizer>
                    </StackLayout.GestureRecognizers>
                    <Label Text="Note prestazione" TextColor="Red" FontAttributes="Bold" HorizontalOptions="Start"></Label>
                    <Image Source="downArrow.png" HorizontalOptions="EndAndExpand"/>
                </StackLayout>
                <Label Text="{Binding Nota}" IsVisible="{Binding VisibleNote}" TextColor="Black" FontSize="Medium" FontAttributes="Italic"></Label>

            </StackLayout>
            

        </StackLayout>

    </ContentPage.Content>
</ContentPage>